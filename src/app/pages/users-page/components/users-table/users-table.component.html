@if (users$ | async; as users) {

<form [formGroup]="form" class="flex flex-col gap-10">
  <h1 class="text-preset1">Users list</h1>

  <p-table [value]="users">
    <ng-template pTemplate="caption">
      <div class="w-full flex flex-row justify-between items-center">
        <app-text-input
          [control]="searchField"
          placeholder="Search by name"
          id="search"
          labelText=""
          [showLabel]="false"
          class="w-1/3"
        ></app-text-input>

        <app-primary-button
          text="+ Add New User"
          toolTipText="Add New User"
          (handleClick)="handleAddNewUser()"
          class="w-1/5"
        ></app-primary-button>
      </div>
    </ng-template>
    <ng-template #header>
      <tr>
        <th class="text-preset2">Name</th>
        <th class="text-preset2">Email</th>
        <th class="text-preset2">City</th>
        <th class="text-preset2"></th>
      </tr>
    </ng-template>
    <ng-template #body let-user>
      <tr>
        <td>{{ user.name }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.address.city }}</td>
        <td>
          <button
            class="btn btn-primary btn-sm btn-circle"
            (click)="handleUserDetails(user)"
          >
            <span class="pi pi-info-circle text-white"></span>
          </button>
        </td>
      </tr>
    </ng-template>

    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="11">
          <div class="flex flex-col justify-center items-center gap-5">
            <h6 class="text-preset2 text-center">No data.</h6>
          </div>
        </td>
      </tr>
    </ng-template>
  </p-table>
</form>

}
